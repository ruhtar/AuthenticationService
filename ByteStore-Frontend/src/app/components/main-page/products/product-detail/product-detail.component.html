<app-header></app-header>
<div class="product-details">
  <a href="/products">
    <i class="fas fa-arrow-left" style="margin-bottom: 1rem"></i> Back
  </a>
  <h1 class="product-name">{{ product.name }}</h1>
  <p class="product-price">Price: R${{ product.price | number: "1.2-2" }}</p>
  <img
    class="product-image"
    [src]="product.imageStorageUrl"
    alt="Imagem do Produto"
  />
  <p class="info">Stock: {{ product.productQuantity }} unit(s)</p>
  <p class="info">Rate: {{ product.rate | number: "1.0-0" }}</p>
  <p class="info">Number of reviews: {{ product.timesRated }}</p>
  <div *ngIf="logged" class="quantity-container">
    <p class="info">Quantity:</p>
    <input
      type="number"
      [(ngModel)]="quantityToAdd"
      min="1"
      step="1"
      class="quantity-input"
    />
    <button
      (click)="addToCart(userId, product, quantityToAdd)"
      class="add-button"
    >
      <i class="fa-solid fa-cart-shopping"></i>
      Add to the shopping cart
    </button>
  </div>

  <div class="product-description" *ngIf="product.description">
    <p class="description-title">DESCRIPTION</p>
    <p>
      {{ product.description }}
    </p>
  </div>

  <h2>Reviews</h2>
  <button (click)="openModal()" class="add-button" *ngIf="logged">
    Did you like the product? Rate it!
  </button>
  <div class="buyer-comments">
    <div class="comment" *ngFor="let review of reviews">
      <p class="comment-text">{{ review.reviewText }}</p>
      <p class="comment-user">{{ review.username }} | {{ review.rate }}/5</p>
    </div>
  </div>
</div>
<div class="card flex justify-content-center">
  <p-button label="Submit"></p-button>
</div>
<app-footer></app-footer>
